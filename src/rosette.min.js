/*! rosette v0.3.1 */
!function(t){var e={defaults:{languages:{},current:null,values:{}},process:function(t){null===t.current&&(t.current=Object.keys(t.languages)[0])},control:function(e){var o=!0,n=Object.keys(e.languages);return n.length<1&&(o=!1,console.error("Rosette ERROR: Empty language data")),null!==e.current&&-1===t.inArray(e.current,n)&&(e.current=null,o=!1,console.error("Rosette ERROR: Invalid current language")),o},setup:function(o){var n=Object.keys(this.defaults),r=!0;Object.keys(o).forEach(function(e){-1===t.inArray(e,n)&&(console.error("Rosette ERROR: Invalid setup data"),r=!1)}),r&&(this.defaults=t.extend(!0,{},e.defaults,o))}},o={init:function(t,a){o.controlTarget(t)&&e.control(a)&&(e.process(a),n.build(t,a),r.bind(t))},controlTarget:function(t){var e=!0;return t.is('input[type="text"]')||(e=!1,console.error("Rosette ERROR: Target is not an input type text")),t.is(".rosette")&&(e=!1,console.error("Rosette ERROR: Target is already initialized")),e},openDropdown:function(t){t.data("rosette-dropdown").stop().addClass("open").slideDown(100)},closeDropdown:function(e){var o=t(".rosette-input.rosette-main");void 0!==e&&(o=e),o.each(function(){t(this).data("rosette-dropdown").stop().removeClass("open").slideUp(100)})},destroy:function(t){t.data("rosette-wrap").replaceWith(t),t.removeClass("rosette-input rosette-main"),t.removeData("rosette-wrap").removeData("rosette-dropdown")},getValues:function(e){var o={};return e.data("rosette-wrap").find(".rosette-input").each(function(){var e=t(this),n=e.attr("data-rosette-language"),r=e.val();o[n]=r}),o},setValues:function(e,o){var n=e.data("rosette-wrap"),r=[];n.find(".rosette-input").each(function(){r.push(parseInt(t(this).attr("data-rosette-language")))});var a=!0;Object.keys(o).forEach(function(e){-1===t.inArray(parseInt(e),r)&&(a=!1)}),!0===a?n.find(".rosette-input").each(function(){var e=t(this),n=parseInt(e.attr("data-rosette-language"));e.val(o[n])}):console.error("Rosette ERROR: Invalid values")}},n={build:function(t,e){var o=e.languages,r=e.current,a=t.clone().attr("id","").attr("name","");t.wrap('<div class="rosette rosette-wrap"></div>');var s=t.closest(".rosette-wrap");t.data("rosette-wrap",s),s.css("width",t.css("width")),t.wrap('<div class="rosette-input-container rosette-main"></div>'),t.attr("data-rosette-language",r).addClass("rosette-input rosette-main"),s.append('<div class="rosette-dropdown"></div>');var i=s.find(".rosette-dropdown");t.data("rosette-dropdown",i);for(var u in o)if(o.hasOwnProperty(u)&&u!==r){var c=a.clone();c.attr("data-rosette-language",u).addClass("rosette-input"),i.append(c),c.wrap('<div class="rosette-input-container"></div>')}n.buildButtons(t,e)},buildButtons:function(e,o){var n=e.data("rosette-wrap"),r=t('<div class="rosette-button"></div>');n.find(".rosette-input").each(function(){var e=t(this),n=r.clone(),a=e.attr("data-rosette-language");n.text(o.languages[a]),e.closest(".rosette-input-container").append(n)})}},r={bind:function(e){e.data("rosette-wrap").find(".rosette-main .rosette-button").off("click.rosette").on("click.rosette",r.button),t(document).off("click.rosette").on("click.rosette",r.outside)},button:function(){var e=t(this).closest(".rosette-input-container").find(".rosette-input");e.data("rosette-dropdown").is(".open")?o.closeDropdown(e):(o.closeDropdown(t(".rosette-input.rosette-main").not(e)),o.openDropdown(e))},outside:function(e){$target=t(e.target),!$target.is(".rosette")&&$target.closest(".rosette").length<1&&o.closeDropdown()}},a={init:function(n){var r=t.extend(!0,{},e.defaults,n);return this.each(function(){o.init(t(this),r)})},destroy:function(){return this.each(function(){o.destroy(t(this))})},get:function(){var t=this.first();return o.getValues(t)},set:function(e){if("object"==typeof e&&null!==e)return this.each(function(){o.setValues(t(this),e)});console.error("Rosette ERROR: No values provided")}};t.fn.rosette=function(t){if(!(this.length<1)){if(a[t]){var e=Array.prototype.slice.call(arguments,1);return a[t].apply(this,e)}if("object"==typeof t||!t)return a.init.apply(this,arguments);console.error("Rosette ERROR - Invalid method"),console.log(this)}},t.extend({rosetteSetup:function(t){e.setup(t)}})}(jQuery);